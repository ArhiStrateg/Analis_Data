{% extends "base.html" %}
{% load static %}

{% block title %}
    Страница проекта
{% endblock title %}

{% block content %}

<div class="row" style="margin: 0px; padding: 15px;">
    <div class="col-lg-12" style="background-image: linear-gradient(#f5f5f5, #ffffff); box-shadow: 0 0 6px rgba(0,0,0,0.2);">
        <div style="font-size: 200%; text-align: center; margin: 5px;">
            <span>
                Итоговый вывод
            </span>
        </div>
    </div>
</div>

<div class="row" style="margin: 0px; padding: 15px;">
    <div class="col-lg-12" style="background-image: linear-gradient(#f5f5f5, #ffffff); box-shadow: 0 0 6px rgba(0,0,0,0.2); padding-right: 20px;">
        <div class="row" style="margin: 0px; padding: 15px;">

            <div class="col-lg-12" style="background-image: linear-gradient(#f5f5f5, #e9e9e9); box-shadow: 0 0 6px rgba(0,0,0,0.2); margin-bottom: 10px;">
                <div class="col-lg-12" style="font-size: 100%; text-align: center; margin: 5px;">
                    <strong>Выберите параметры для поиска</strong>
                </div>


                <form method="POST" enctype="multipart/form-data">{% csrf_token %}
                    <div class="col-lg-3" style="text-align: center;">
                        <strong>Выберите день недели</strong>
                        <div style="margin: 10px;">
                            <select name="day_week" required="" id="id_day_week" style="width: 60%;">
                                <option selected="selected" value="Monday">Monday (Понедельник)</option>
                                <option value="Tuesday">Tuesday (Вторник)</option>
                                <option value="Wednesday">Wednesday (Среда)</option>
                                <option value="Thursday">Thursday (Четверг)</option>
                                <option value="Friday">Friday (Пятница)</option>
                                <option value="Saturday">Saturday (Суббота)</option>
                                <option value="Sunday">Sunday (Воскресенье)</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-lg-3" style="text-align: center;">
                        <strong>Выберите время начала интервала</strong>
                        <div style="margin: 10px;">
                            <select name="time_start" required="" id="id_time_start" style="width: 60%;">
                                <option selected="selected" value="0">00:00</option>
                                <option value="1">01:00</option>
                                <option value="2">02:00</option>
                                <option value="3">03:00</option>
                                <option value="4">04:00</option>
                                <option value="5">05:00</option>
                                <option value="6">06:00</option>
                                <option value="7">07:00</option>
                                <option value="8">08:00</option>
                                <option value="9">09:00</option>
                                <option value="10">10:00</option>
                                <option value="11">11:00</option>
                                <option value="12">12:00</option>
                                <option value="13">13:00</option>
                                <option value="14">14:00</option>
                                <option value="15">15:00</option>
                                <option value="16">16:00</option>
                                <option value="17">17:00</option>
                                <option value="18">18:00</option>
                                <option value="19">19:00</option>
                                <option value="20">20:00</option>
                                <option value="21">21:00</option>
                                <option value="22">22:00</option>
                                <option value="23">23:00</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-lg-3" style="text-align: center;">
                        <strong>Выберите время окончания интервала</strong>
                        <div style="margin: 10px;">
                            <select name="time_end" required="" id="id_time_end" style="width: 60%;">
                                <option selected="selected" value="1">01:00</option>
                                <option value="2">02:00</option>
                                <option value="3">03:00</option>
                                <option value="4">04:00</option>
                                <option value="5">05:00</option>
                                <option value="6">06:00</option>
                                <option value="7">07:00</option>
                                <option value="8">08:00</option>
                                <option value="9">09:00</option>
                                <option value="10">10:00</option>
                                <option value="11">11:00</option>
                                <option value="12">12:00</option>
                                <option value="13">13:00</option>
                                <option value="14">14:00</option>
                                <option value="15">15:00</option>
                                <option value="16">16:00</option>
                                <option value="17">17:00</option>
                                <option value="18">18:00</option>
                                <option value="19">19:00</option>
                                <option value="20">20:00</option>
                                <option value="21">21:00</option>
                                <option value="22">22:00</option>
                                <option value="23">23:00</option>
                                <option value="24">24:00 (00 следующего дня)</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-lg-3" style="text-align: center;">
                        <strong>Выберите колличество приложений</strong>
                        <div style="margin: 10px;">
                            <select name="app_che" required="" id="app_che" style="width: 60%;">
                                <option selected="selected" value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                            </select>
                        </div>
                    </div>


                    <div class="col-lg-12">
                        <button class="btn-primary" type="submit" name="find" style="width: 100%; margin-bottom: 10px;">
                            Начать поиск
                        </button>
                    </div>
                </form>
            </div>

            {% if for_view == True %}
                <div class="col-lg-12" style="margin: 0px; padding-top: 15px; padding-bottom: 15px; padding-left: 0px; padding-right: 0px;">
                    <div class="col-lg-12" style="background-image: linear-gradient(#f5f5f5, #ffffff); box-shadow: 0 0 6px rgba(0,0,0,0.2);">
                        <div class="col-lg-12" style="text-align: center">
                            <div style="font-size: 120%; background-image: linear-gradient(#f5f5f5, #e9e9e9); box-shadow: 0 0 6px rgba(0,0,0,0.2); margin: 5px; padding: 5px; margin-bottom: 10px;">
                                <strong>Параметры поиска:</strong><br>
                                <span><strong>День недели</strong>: {{ day_week }}</span><br>
                                <span><strong>Список активных часов для поиска</strong>: {{ list_hour_for_search }}</span><br>
                                <span><strong>Максимальное колличество приложений</strong>: {{ app_che_for_view }}</span><br>

                            </div>
                        </div>

                        <div class="col-lg-12" style="text-align: center">
                            <div style="font-size: 120%; background-image: linear-gradient(#f5f5f5, #e9e9e9); box-shadow: 0 0 6px rgba(0,0,0,0.2); margin: 5px; padding: 5px; margin-bottom: 10px;">
                                <strong>Результаты поиска:</strong>
                            </div>
                        </div>

                        <div>
                            {% for max_time in result %}
                                <div class="col-lg-2" style="text-align: center">
                                    <div style="background-image: linear-gradient(#f5f5f5, #ffffff); box-shadow: 0 0 6px rgba(0,0,0,0.2); margin: 5px; padding: 5px;
                                    margin-bottom: 10px;">
                                        <div>
                                            <span style="font-size: 80%">Наименование приложения:</span><br>
                                            <span style="font-size: 100%"><strong>{{ max_time.app.name }}</strong></span><br>
                                            <span style="font-size: 80%">Итоговая сумма дохода:</span><br>
                                            <span style="font-size: 100%"><strong>{{ max_time.sum }}</strong></span><br>
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            {% endif %}



        </div>
    </div>
</div>

{% endblock content %}

{% block scripts %}
{% endblock scripts %}